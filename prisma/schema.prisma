generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Products {
    UUID        String        @id(map: "products_uuid") @unique() @default(uuid()) @db.Char(36)
    Name        String        @db.VarChar(20)
    Description String        @db.VarChar(500)
    Price       Float
    Quantity    Int
    CreatedAt   DateTime      @default(now())
    UpdatedAt   DateTime      @default(now())
 }

model Users {
  UUID          String        @id(map: "users_uuid") @unique() @default(uuid()) @db.VarChar(36) //UUIDv4
  user_pseudo   String        @unique() @db.VarChar(20)
  username      String        @unique() @db.VarChar(30)
  user_password String        @unique() @db.VarChar(72)
  created_at    DateTime      @db.Date @default(now())
 //  Products Products[]
}

model orders {

  id                 Int      @db.Int @default(autoincrement())
  user_UUID          String
  product_UUID       String
  product_quantity   Int      @db.Integer @min(1)
  total_price        Decimal  @db.Money
  order_date         DateTime @db.Date @default(now())
  shipping_date      DateTime @db.Date
  
  user users @relation(fields: [user_UUID], references: [UUID])    
  product products @relation(fields: [product_UUID],references: [UUID])
}
